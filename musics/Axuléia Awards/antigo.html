<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="icon" href="../../ico.jpg" type="image/png" >
    <title>Music Axuléia</title>
</head>
<style>
    body {
    background: linear-gradient(to bottom, #000000, rgb(90, 64, 46));
    height: 100vh;
    margin: 0;
    display: flex;
    justify-content: center;
    /* Alinha horizontalmente no centro */
    align-items: center;
    font-family: Arial, sans-serif;
}
.close{ 
  position: absolute;
    top: 10px;
    left: 40px;
    font-size: 30px;
    cursor: pointer;
    color: #fff;
}
.container {
    text-align: center;
    color: #fff;
    width: 90%;
    margin-top: 300px;
}

.image {
    width: 250px;
    height: 250px;
    position: absolute;
    margin-top: -200px;
    
    /* Adicionando a sombra */
    box-shadow: 25px 25px 25px rgba(0, 0, 0, 0.2);
}

/* Estilo do ícone no canto superior direito */
.music-list-icon {
    position: absolute;
    top: 10px;
    right: 40px;
    font-size: 40px;
    cursor: pointer;
    color: #fff;
  }
  
  /* Estilo da sub-aba que será exibida */
  .music-list-container {
    position: fixed;
    top: 0;
    right: 0;
    width: 300px;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    color: #fff;
    display: none;
    padding: 20px;
    overflow-y: auto; /* Ativa a rolagem vertical */
    z-index: 1000;
    box-sizing: border-box; /* Para garantir que o padding não afete a altura total */
  }
  
  
  
  /* Estilo do botão de fechar */
  .close-music-list {
    position: absolute;
    top: 5px;
    right: 230px;
    background: transparent;
    border: none;
    font-size: 30px;
    color: #fff;
    cursor: pointer;
  }
  
  .close-music-list:hover {
    color: #f39c12;
  }
  
  /* Estilo da lista de músicas */
  #music-list {
    list-style-type: none;
    padding: 0;
    max-height: calc(100% - 60px); /* Deixa um espaço para o botão de fechar */
    overflow-y: auto; /* Ativa a rolagem da lista */
  }
  #music-list li {
    margin: 10px 0;
    cursor: pointer;
    font-size: 18px;
  }
  
  #music-list li:hover {
    color: #f39c12;
  }
  
  /* Estilo minimalista da barra de rolagem */
.music-list-container::-webkit-scrollbar {
    width: 8px; /* Largura da barra de rolagem */
  }
  
  .music-list-container::-webkit-scrollbar-thumb {
    background-color: #f39c12; /* Cor do thumb */
    border-radius: 10px;
  }
  
  .music-list-container::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.2); /* Cor de fundo do track */
    border-radius: 10px;
  }
  
  /* Estilo minimalista da barra de rolagem da lista */
  #music-list::-webkit-scrollbar {
    width: 6px;
  }
  
  #music-list::-webkit-scrollbar-thumb {
    background-color: #f39c12; /* Cor do thumb */
    border-radius: 10px;
  }
  
  #music-list::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.2); /* Cor de fundo do track */
    border-radius: 10px;
  }

h1 {
    font-size: 24px;
    margin-bottom: 20px;
}

.music-info-container {
    display: flex;
    /* Flexbox para alinhar os itens lado a lado */
    justify-content: center;
    /* Centraliza os itens horizontalmente */
    gap: 20px;
    /* Adiciona um espaçamento pequeno entre o artista e o álbum */
    font-size: 0.9rem;
    /* Fonte menor para a descrição */
    color: #888;
    /* Cor suave */
    margin-top: 10px;
    /* Espaço entre o título e as informações */
}

.music-info-container p {
    margin: 0;
    /* Remove margens extras */
    padding: 0;
    /* Remove padding extra */
}


.progress-container {
    width: 100%;
    display: flex;
    justify-content: center;
    margin-bottom: 20px;
}

input[type="range"] {
    width: 80%;
    margin-top: 20px;
    background: #ddd;
    height: 5px;
    border-radius: 5px;
    appearance: none;
    outline: none;
}

input[type="range"]::-webkit-slider-thumb {
    width: 15px;
    height: 15px;
    background-color: #fff;
    border: none;
    border-radius: 50%;
    cursor: pointer;
}

input[type="range"]::-webkit-slider-runnable-track {
    background: #f39c12;
}

/* Controles de Navegação ao lado da barra */
.controls {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-top: 20px;
}

button {
    background: none;
    border: none;
    font-size: 24px;
    color: #fff;
    cursor: pointer;
    padding: 10px;
    transition: color 0.3s ease;
}

button:hover {
    color: #f39c12;
}

button#shuffle.active {
    color: #f39c12;
    /* Destaque para quando aleatório está ativo */
}

/* Estilo do container de volume */
.volume-container {
    position: fixed;
    bottom: 20px;
    /* Distância do fundo */
    right: 20px;
    /* Distância da direita */
    display: flex;
    flex-direction: column-reverse;
    /* Inverte a ordem dos elementos */
    align-items: center;
    cursor: pointer;
}

/* Estilo do ícone de volume */
#volume-icon {
    font-size: 30px;
    color: white;
    transition: color 0.3s;
}

.volume-range {
    -webkit-appearance: slider-vertical;
    width: 10px;
    /* Largura do controle de volume */
    height: 100px;
    /* Altura do controle de volume */
    margin-bottom: 10px;
    /* Espaço entre o controle e o ícone */
    background: #ddd;
    border-radius: 5px;
    display: flex;
    opacity: 0%;
}

/* Mostrar o controle de volume ao passar o mouse sobre o ícone */
.volume-container:hover .volume-range {
    display: block;
    opacity: 100%;
    transition: 0.3s;
}

/* Estilo do controle de volume */
#volume-control {
    transform: rotate(180deg);
    /* Deixa o controle de volume na vertical */
}

/* Personalização do slider de volume */
.volume-range::-webkit-slider-thumb {
    -webkit-appearance: none;
    background-color: #ffcc00;
    border-radius: 50%;
    width: 15px;
    height: 15px;
}

.volume-range::-webkit-slider-runnable-track {
    background: #ccc;
    height: 100%;
}

.volume-range::-moz-range-thumb {
    background-color: #ffcc00;
    border-radius: 50%;
    width: 15px;
    height: 15px;
}

.volume-range::-moz-range-track {
    background: #ccc;
    height: 100%;
}
</style>
    <body>
      <div>
        <a href="../../index.html"><button class="close"><i class="bi bi-x-lg"></i></button></a>
      </div>

        <div class="image"><img id="music-image" src="" alt="Capa da música" width="250" height="250"> </div>
        <div class="container">
        
            <h1 id="music-title">------</h1>
            <div class="music-info-container">
                <p id="music-artist"></p> <!-- Artista -->
                <p id="music-album"></p> <!-- Álbum -->
            </div>

           
            <!-- Ícone do canto superior direito -->
            <div id="music-list-icon" class="music-list-icon">
                <i class="bi bi-list"></i> <!-- Ícone do list -->
            </div>

            <!-- Sub-aba para a lista de músicas -->
            <div id="music-list-container" class="music-list-container">
                <!-- Botão de fechar -->
                <button id="close-music-list" class="close-music-list">←</button>

                <!-- Lista de músicas -->
                <ul id="music-list"></ul>

            </div>

            <!-- Controle de Progresso no meio -->
            <div class="progress-container">
                <input type="range" class="form-range" id="progress" value="0" max="100" step="0.1">
            </div>

            <!-- Controles Personalizados ao lado da barra de progresso -->
            <div class="controls">
                <!-- Botão de Play/Pause -->
                <!-- Botão de Voltar (Prev) -->
                <button id="prev">
                    <i class="bi bi-chevron-double-left"></i>
                </button>

                <button id="playPause">
                    <i class="bi bi-play"></i>
                </button>
                <!-- Botão de Avançar (Next) -->
                <button id="next">
                    <i class="bi bi-chevron-double-right"></i>
                </button>

                <!-- Botão de Shuffle -->
                <button id="shuffle">
                    <i class="bi bi-shuffle"></i>
                </button>
            </div>
        </div>

        <div class="volume-container">
            <i class="bi bi-volume-up" id="volume-icon"></i> <!-- Ícone de volume do Bootstrap Icons -->
            <input type="range" class="volume-range" id="volume-control" min="0" max="100" value="100" />
        </div>


    </body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script>
        const audio = document.createElement("audio"); // Criando o elemento de áudio
const playPauseButton = document.getElementById("playPause");
const prevButton = document.getElementById("prev");
const nextButton = document.getElementById("next");
const progress = document.getElementById("progress");
const shuffleButton = document.getElementById("shuffle");
const volumeControl = document.getElementById("volume-control");
const volumeIcon = document.getElementById("volume-icon");
const musicTitle = document.getElementById("music-title"); // Referência ao <h1> que exibirá o título da música
const musicArtist = document.getElementById("music-artist"); // Referência ao parágrafo do artista
const musicAlbum = document.getElementById("music-album");   // Referência ao parágrafo do álbum
const musicImage = document.querySelector(".image img");  // Referência ao <img> dentro da div.image
const musicListIcon = document.getElementById("music-list-icon");
const musicListContainer = document.getElementById("music-list-container");
const musicList = document.getElementById("music-list");
const closeMusicListButton = document.getElementById("close-music-list");

// Nova lista de faixas com título, artista, álbum e imagem
const tracks = [
  { path: "track1.mp3", title: "Make This Right", artist: "The Toxic Avenger", album: "Furi (Original Game S...", image: "1.jpg" },
  { path: "track2.mp3", title: "Angel Breaking", artist: "NEEDY GIRL OVER...", album: "[NEEDY STREAMER O...]", image: "2.jpg" },
  { path: "track3.mp3", title: "Corvo Trailer", artist: "Daniel Licht", album: "Dishonored 2 (Deluxe...", image: "3.jpg" },
  { path: "track4.mp3", title: "Dark Souls 3", artist: "Yuka Kitamura", album: "Dark Souls 3", image: "4.jpg" },
  { path: "track5.mp3", title: "Elden Ring Main Theme", artist: "Kevin Grim", album: "Elden Ring Main Theme", image: "5.jpg" },
  { path: "track6.mp3", title: "Genesis Retake Light", artist: "Jonathan Evans", album: "The Binding of Issac", image: "6.jpg" },
  { path: "track7.mp3", title: "Godskin Apostles", artist: "Tai Tomisawa", album: "Elden Ring (Original...", image: "7.jpg" },
  { path: "track8.mp3", title: "Hive Knight", artist: "Christopher Larkin", album: "Hollow Knight: Gods...", image: "8.jpg" },
  { path: "track9.mp3", title: "Into the Unknown", artist: "Simon Chylinski", album: "Subnautica", image: "9.jpg" },
  { path: "track10.mp3", title: "It's Going Down Now", artist: "japoneis esquisito; Lotus", album: "Persona 3 Realod Original", image: "10.jpg" },
  { path: "track11.mp3", title: "Looming Dread", artist: "japoneis esquisito", album: "Resident Evil 2 Original", image: "11.jpg" },
  { path: "track12.mp3", title: "Morticide(Corpse Fight)", artist: "Jonathan Evans", album: "The Binding of Isaac", image: "12.jpg" },
  { path: "track13.mp3", title: "Nine Blades", artist: "Borislav Slavov", album: "Baldur's Gate 3 (Original)", image: "13.jpg" },
  { path: "track14.mp3", title: "One Final Effort", artist: "Halo;Martin O'Do...", album: "Halo 3 (Original Soundtrack)", image: "14.jpg" },
  { path: "track15.mp3", title: "Opening", artist: "Tsukasa Saitoh", album: "Elden Ring (Original Soundtrack)", image: "15.jpg" },
  { path: "track16.mp3", title: "Prisoner's Awakening", artist: "Yoann Laulan", album: "Dead Cells (Original Soundtrack)", image: "16.jpg" },
  { path: "track17.mp3", title: "Pure Vessel", artist: "Kevin Grim", album: "Hollow Knight Doom...", image: "17.jpg" },
  { path: "track18.mp3", title: "Resurrections", artist: "Lena Raine", album: "Celeste (Original Soundtrack)", image: "18.jpg" },
  { path: "track19.mp3", title: "Six's Theme Part II", artist: "Tobias Lilja", album: "Little Nightmares (Original Soundtrack)", image: "19.jpg" },
  { path: "track20.mp3", title: "The Battle of Blood Ridge...", artist: "Rick And Morty", album: "The Battle Of Blood Ri...", image: "20.jpg" },
  { path: "track21.mp3", title: "The Line", artist: "Twenty One Pilots", album: "The Line", image: "21.jpg" },
  { path: "track22.mp3", title: "The Only Thing I Know Fo...", artist: "Tyson Yen", album: "METAL GEAR RISING", image: "22.jpg" },
  { path: "track23.mp3", title: "The Only Thing They Fear ...", artist: "FamilyJules", album: "Video Game Guitar C...", image: "23.jpg" },
  { path: "track24.mp3", title: "Who's Ready for Tomorrow", artist: "RAT BOY;IBDY", album: "Cyberpunk 2077", image: "24.jpg" },
  { path: "track25.mp3", title: "Main Theme,Pt. 1", artist: "Borislav Slavov", album: "Baldur's Gate 3 (Original Soundtrack)", image: "25.jpg" },
  { path: "track26.mp3", title: "Density Wave", artist: "Aviad Zinemanas", album: "Density Wave", image: "26.jpg" },
  { path: "track27.mp3", title: "Cleric Beast", artist: "SIE Sound Team", album: "Bloodborne Original ...", image: "27.jpg" }
];

let currentTrackIndex = 0;
let isPlaying = false;
let isShuffle = false; // Indica se o modo aleatório está ativado

// Carregar a primeira faixa
audio.src = tracks[currentTrackIndex].path;
audio.load();
updateMusicDetails(); // Atualiza as informações da música inicialmente

// Controlar play/pause
playPauseButton.addEventListener("click", () => {
  if (isPlaying) {
    audio.pause();
    playPauseButton.innerHTML = '<i class="bi bi-play"></i>'; // Ícone de play
  } else {
    audio.play();
    playPauseButton.innerHTML = '<i class="bi bi-pause"></i>'; // Ícone de pause
  }
  isPlaying = !isPlaying;
});

// Tocar a faixa anterior
prevButton.addEventListener("click", () => {
  if (isShuffle) {
    currentTrackIndex = getRandomTrackIndex(); // Escolher uma faixa aleatória
  } else {
    currentTrackIndex = (currentTrackIndex === 0) ? tracks.length - 1 : currentTrackIndex - 1;
  }
  loadAndPlayTrack();
});

// Tocar a próxima faixa
nextButton.addEventListener("click", () => {
  if (isShuffle) {
    currentTrackIndex = getRandomTrackIndex(); // Escolher uma faixa aleatória
  } else {
    currentTrackIndex = (currentTrackIndex === tracks.length - 1) ? 0 : currentTrackIndex + 1;
  }
  loadAndPlayTrack();
});

// Atualizar a posição da barra de progresso conforme o áudio toca
audio.addEventListener("timeupdate", () => {
  const progressValue = (audio.currentTime / audio.duration) * 100;
  progress.value = progressValue;
});

// Atualizar a posição do áudio quando o controle de progresso for alterado
progress.addEventListener("input", () => {
  const value = progress.value;
  audio.currentTime = (value / 100) * audio.duration;
});

// Quando a faixa estiver carregada, começa a reprodução
audio.addEventListener("loadedmetadata", () => {
  if (isPlaying) {
    playPauseButton.innerHTML = '<i class="bi bi-pause"></i>'; // Quando já estiver tocando, mantém o botão em "pause"
  } else {
    playPauseButton.innerHTML = '<i class="bi bi-play"></i>'; // Caso contrário, exibe o botão de "play"
  }
});

// Evento "ended" para ir para a próxima faixa automaticamente
audio.addEventListener("ended", () => {
  if (isShuffle) {
    currentTrackIndex = getRandomTrackIndex(); // Se o modo aleatório estiver ativado
  } else {
    currentTrackIndex = (currentTrackIndex === tracks.length - 1) ? 0 : currentTrackIndex + 1; // Modo sequencial
  }
  loadAndPlayTrack(); // Carrega e toca a próxima faixa
});

// Função para carregar e tocar a faixa
function loadAndPlayTrack() {
  audio.src = tracks[currentTrackIndex].path;
  audio.load(); // Recarregar a faixa
  audio.play(); // Começar a tocar imediatamente
  playPauseButton.innerHTML = '<i class="bi bi-pause"></i>'; // Atualizar o botão para "pause"
  updateMusicDetails(); // Atualiza o título, artista, álbum e imagem
  isPlaying = true;
}

// Função para obter um índice aleatório
function getRandomTrackIndex() {
  let randomIndex;
  do {
    randomIndex = Math.floor(Math.random() * tracks.length);
  } while (randomIndex === currentTrackIndex); // Garante que não repita a faixa atual
  return randomIndex;
}

// Alternar entre modo sequencial e aleatório
shuffleButton.addEventListener("click", () => {
  isShuffle = !isShuffle;
  shuffleButton.classList.toggle("active", isShuffle); // Aplica o destaque no botão
  if (isShuffle) {
    console.log("Modo aleatório ativado");
  } else {
    console.log("Modo sequencial ativado");
  }
});

// Carregar e tocar a primeira faixa
audio.play();
isPlaying = true;
playPauseButton.innerHTML = '<i class="bi bi-pause"></i>';

// Definir o volume inicial para o áudio
audio.volume = 1; // Volume máximo ao iniciar

// Atualizar o volume do áudio conforme o controle de volume é ajustado
volumeControl.addEventListener("input", () => {
  const volume = volumeControl.value / 100;
  audio.volume = volume;
  
  // Alterar o ícone de volume dependendo do nível do volume
  if (volume == 0) {
    volumeIcon.className = "bi bi-volume-mute"; // Ícone de mudo
  } else if (volume < 0.5) {
    volumeIcon.className = "bi bi-volume-down"; // Ícone de volume baixo
  } else {
    volumeIcon.className = "bi bi-volume-up"; // Ícone de volume alto
  }
});

// Função para atualizar o título, artista, álbum e imagem da música
function updateMusicDetails() {
  musicTitle.textContent = tracks[currentTrackIndex].title;  // Atualiza o título
  musicArtist.textContent = `Artista: ${tracks[currentTrackIndex].artist}`;  // Atualiza o artista
  musicAlbum.textContent = `Álbum: ${tracks[currentTrackIndex].album}`;   // Atualiza o álbum
  musicImage.src = tracks[currentTrackIndex].image;  // Atualiza a imagem da capa do álbum
}

// Fechar a sub-aba ao clicar no botão de fechar
closeMusicListButton.addEventListener("click", () => {
    musicListContainer.style.display = "none";
  });
  
  // Mostrar/ocultar a sub-aba
  musicListIcon.addEventListener("click", () => {
    musicListContainer.style.display = musicListContainer.style.display === "block" ? "none" : "block";
  });
  
  // Função para atualizar a lista de músicas
  function updateMusicList() {
    // Limpar a lista de músicas
    musicList.innerHTML = "";
  
    // Adicionar cada música à lista
    tracks.forEach((track, index) => {
      const li = document.createElement("li");
      li.textContent = track.title;  // Título da música
      li.addEventListener("click", () => {
        currentTrackIndex = index;
        loadAndPlayTrack();  // Carregar e tocar a música selecionada
        musicListContainer.style.display = "none";  // Fechar a sub-aba
      });
      musicList.appendChild(li);
    });
  }
  
  // Atualizar a lista de músicas ao carregar
  updateMusicList();

    </script>

</html>